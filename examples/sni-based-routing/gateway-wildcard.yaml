# Gateway configuration example using GLOBAL wildcard certificates
# This configuration supports ALL gateway nodes with a single global wildcard certificate
# Certificate covers: *.kafka.gateway.local
gateway:
  admin:
    endpoints:
      metrics: true
  streamingDomains:
    - name: sample-domain
      type: kafka
      kafkaCluster:
        name: kafka-cluster-1
        bootstrapServers:
          - id: localkafka
            endpoint: "kafka-1:44444" # <----- kafka internal listener endpoint
  routes:
    - name: sni-route
      endpoint: "kafka.gateway.local:19092"
      brokerIdentificationStrategy:
        type: host
        # Global wildcard certificate supports this pattern across all nodes
        # However, you need to use a simpler pattern for global wildcard to work
        pattern: "broker$(nodeId).kafka.gateway.local"
      streamingDomain:
        name: sample-domain
        bootstrapServerId: localkafka
      security:
        auth: passthrough
        ssl:
          truststore:
            location: /etc/gateway/gateway.truststore.jks
            password:
              file: /etc/gateway/gateway.truststore.pwd
          keystore:
            location: /etc/gateway/gateway.keystore.jks
            password:
              file: /etc/gateway/gateway.keystore.pwd
            keyPassword:
              file: /etc/gateway/gateway.key.pwd
          clientAuth: required